<script src="chain.js"></script>

<title>chain</title>


<div class="box">
	<textarea placeholder="paste some text here" id="data"></textarea>
</div>
<div class="box" id="geninfo">
	<table>
		<tr>
			<td>text length</td>
			<td><input id="len" type="text" value="12" placeholder="text length" /></td>
		</tr>
		<tr>
			<td>first word of text</td>
			<td><input id="fword" type="text" value="the" placeholder="first word of text" /></td>
		</tr>
		<tr>
			<td></td>
			<td><input type="button" value="generate" onclick="gen();" /></td>
		</tr>
	</table>
</div>
<div class="box">
	<textarea placeholder="chain-generated text will appear here" id="output"></textarea>
</div>


<style>
body { padding: 1em }
h1 { margin: 0 }

.box {
	background-color: #eee;
	padding: 1em;
	margin: 1em auto 1em auto;
	width: 500px;
}

#geninfo table { margin: auto }
#geninfo td { padding: 0.2em }
#geninfo td:first-child { text-align: right; }

textarea { width: 100% }

#data { height: 25em }
#output { height: 10em }
</style>


<script>
const DATA   = document.querySelector('#data')
const OUTPUT = document.querySelector('#output')
const LEN    = document.querySelector('#len')
const FWORD  = document.querySelector('#fword')

function gen()
{
	OUTPUT.value = generateText(DATA.value, Number(LEN.value), FWORD.value)
}

const src_url = new URLSearchParams(window.location.search).get('src')

if (src_url)
	fetch(src_url)
		.then(r => r.text())
		.then(text => DATA.value = text);
</script>